<!DOCTYPE html><html lang="en" ><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="/assets/css/syntax.css" rel="stylesheet" ><link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet"><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="Setup Rails + Vite + Tailwind + Stimulus + Turbo" /><meta name="author" content="Ali" /><meta property="og:locale" content="en_US" /><meta name="description" content="Kemaren saya bilang klo untuk urusan frontend saya lebih seneng pasang pakai bantuan NodeJS, dibandingkan install paket yang sudah tercompile menjadi css atau js." /><meta property="og:description" content="Kemaren saya bilang klo untuk urusan frontend saya lebih seneng pasang pakai bantuan NodeJS, dibandingkan install paket yang sudah tercompile menjadi css atau js." /><link rel="canonical" href="http://localhost:4000/setup-rails-vite-tailwind-stimulus-turbo" /><meta property="og:url" content="http://localhost:4000/setup-rails-vite-tailwind-stimulus-turbo" /><meta property="og:site_name" content="RubyHolic" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-10-27T22:16:00+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Setup Rails + Vite + Tailwind + Stimulus + Turbo" /><meta name="twitter:site" content="@alisoftware" /><meta name="twitter:creator" content="@alisoftware" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ali","url":"www.situsali.id"},"dateModified":"2023-10-27T22:16:00+07:00","datePublished":"2023-10-27T22:16:00+07:00","description":"Kemaren saya bilang klo untuk urusan frontend saya lebih seneng pasang pakai bantuan NodeJS, dibandingkan install paket yang sudah tercompile menjadi css atau js.","headline":"Setup Rails + Vite + Tailwind + Stimulus + Turbo","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/setup-rails-vite-tailwind-stimulus-turbo"},"url":"http://localhost:4000/setup-rails-vite-tailwind-stimulus-turbo"}</script><title> Setup Rails + Vite + Tailwind + Stimulus + Turbo - RubyHolic</title><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="RubyHolic" href="/atom.xml"><link rel="alternate" type="application/json" title="RubyHolic" href="http://localhost:4000/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui, sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:1rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:.5rem 0;padding:.5rem}.post p{margin:.5rem 0}.post h1,.post h2,.post h3,.post h4{margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.meta{margin:2rem 0}code,pre{background:#ecedee}code{padding:.1rem}code.highlighter-rouge{font-size:90%;color:#ff0095}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:5px solid #ececec;padding-left:1rem}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}code,pre{background:transparent}html,body{font-family:'Comic Neue', cursive;font-size:1.2rem}</style></head><body><main role="main"><header role="banner"> <!--<h1 class="logo">RubyHolic</h1>--><nav role="navigation"><ul><li><a href="/" >Home</a></li><li><a href="/about" >About</a></li><li><a href="/search" >Search</a></li><li><a href="/atom.xml" >Rss</a></li></ul></nav></header><section class="post"><h2>Setup Rails + Vite + Tailwind + Stimulus + Turbo</h2><p>Kemaren saya bilang klo untuk urusan frontend saya lebih seneng pasang pakai bantuan NodeJS, dibandingkan install paket yang sudah tercompile menjadi css atau js.</p><p>Sewaktu pakai Rails 6 kita udah dipasangkan pake Webpack secara build-in. Nah sejak di Rails 7 Webpack gak lagi jadi satu, kita mesti pasang lagi. Justru bagus sih gitu, dengan demikian kita bisa bebas gak mesti pakai Webpack juga.</p><p>Nah, salah satu hal yang paling saya suka nih waktu mainan frontend yakni pakai Vite. Sekarang mau gabungin Vite di Rails. Menariknya Vite punya gem khusus Rails, jadi pasangnya gak terlalu ribet.</p><p>Ya sudah langsung kita mulai saja. Asumsi saya, kamu sudah punya project Rails ya.</p><h2 id="1-setup-vite">1. Setup Vite</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle add vite_rails
bundle <span class="nb">exec </span>vite <span class="nb">install</span>
</code></pre></div></div><p>Pasang vite plugin untuk Rails:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pnpm add vite-plugin-rails stimulus-vite-helpers
</code></pre></div></div><p>Edit <code class="highlighter-rouge">vite.config.ts</code> menjadi seperti ini</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineConfig</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vite</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">RubyPlugin</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">vite-plugin-rails</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">({</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="nx">RubyPlugin</span><span class="p">()],</span>
<span class="p">});</span>
</code></pre></div></div><p>Edit layout di <code class="highlighter-rouge">apps/views/layout/application.html.erb</code></p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Example<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">csrf_meta_tags</span> <span class="err">%</span><span class="nt">&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">csp_meta_tag</span> <span class="err">%</span><span class="nt">&gt;</span>

  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">vite_client_tag</span> <span class="err">%</span><span class="nt">&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">vite_javascript_tag</span> <span class="err">'</span><span class="na">application</span><span class="err">'</span> <span class="err">%</span><span class="nt">&gt;</span>
  <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">vite_stylesheet_tag</span> <span class="err">'</span><span class="na">application</span><span class="err">',</span> <span class="err">'</span><span class="na">data-turbo-track</span><span class="err">'</span><span class="na">:</span> <span class="err">'</span><span class="na">reload</span><span class="err">'</span> <span class="err">%</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</code></pre></div></div><p>Buat bekas di <code class="highlighter-rouge">apps/javascript/entrypoints/application.css</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>apps/javascript/entrypoints/application.css
</code></pre></div></div><p>Lalu isi:</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@import</span> <span class="s2">'../../assets/stylesheets/application.css'</span>
</code></pre></div></div><h2 id="2-pasang-tailwind-turbo-dan-stimulus">2. Pasang Tailwind, Turbo dan Stimulus</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pnpm add tailwindcss autoprefixer postcss @hotwired/turbo @hotwired/stimulus
</code></pre></div></div><h2 id="3-setup-tailwind">3. Setup Tailwind</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx tailwindcss init
</code></pre></div></div><p>Edit <code class="highlighter-rouge">tailwind.config.js</code></p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/** @type {import('tailwindcss').Config} */</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">content</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">./app/**/*.{html,erb,slim}</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">theme</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extend</span><span class="p">:</span> <span class="p">{},</span>
  <span class="p">},</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[],</span>
<span class="p">};</span>
</code></pre></div></div><p>Edit diberkas <code class="highlighter-rouge">app/assets/stylesheets/application.css</code></p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@tailwind</span> <span class="n">base</span><span class="p">;</span>
<span class="k">@tailwind</span> <span class="n">components</span><span class="p">;</span>
<span class="k">@tailwind</span> <span class="n">utilities</span><span class="p">;</span>
</code></pre></div></div><p>Buat berkas untuk pengaturan postcss:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>postcss.config.ts
</code></pre></div></div><p>Lalu isi</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">tailwindcss</span><span class="p">:</span> <span class="p">{},</span>
    <span class="na">autoprefixer</span><span class="p">:</span> <span class="p">{},</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="4-setup-turbo">4. Setup Turbo</h2><p>Edit di <code class="highlighter-rouge">apps/javascript/entrypoints/application.js</code></p><p>Tambahin skrip berikut:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">Turbo</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@hotwired/turbo</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Turbo</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</code></pre></div></div><h2 id="5-setup-stimulus">5. Setup Stimulus</h2><p>Edit di <code class="highlighter-rouge">apps/javascript/entrypoints/application.js</code></p><p>Tambahin skrip berikut:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">../controllers</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div><p>Edit lagi diberkas <code class="highlighter-rouge">app/javascript/controllers/index.js</code></p><p>Ganti isinya menjadi seperti berikut:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Application</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@hotwired/stimulus</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">registerControllers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">stimulus-vite-helpers</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">application</span> <span class="o">=</span> <span class="nx">Application</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">controllers</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">globEager</span><span class="p">(</span><span class="dl">"</span><span class="s2">./**/*_controller.js</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">registerControllers</span><span class="p">(</span><span class="nx">application</span><span class="p">,</span> <span class="nx">controllers</span><span class="p">);</span>
</code></pre></div></div><h2 id="6-buat-bekas-bindev-jika-udah-ada-gak-perlu-bikin">6. Buat bekas bin/dev (jika udah ada, gak perlu bikin)</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>bin/dev
<span class="nb">chmod</span> +x bin/dev
</code></pre></div></div><p>Edit <code class="highlighter-rouge">bin/dev</code> isi kaya berikut:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env sh</span>

<span class="k">if</span> <span class="o">!</span> gem list foreman <span class="nt">-i</span> <span class="nt">--silent</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Installing foreman..."</span>
  gem <span class="nb">install </span>foreman
<span class="k">fi

</span><span class="nb">exec </span>foreman start <span class="nt">-f</span> Procfile.dev <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
</code></pre></div></div><p>Pastikan <code class="highlighter-rouge">Procfile.dev</code> nya seperti berikut:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vite: bin/vite dev
web: bin/rails s
</code></pre></div></div><h1 id="testing">Testing</h1><p>Nah kalau sudah selesai semua setupnya. Berarti kita mesti test apakah setupan kita udah berhasil atau belum. Caranya gampang edit salah satu view kamu dan isi dengan semua attribut Tailwind dan Stimulus.</p><p>Contoh</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"text-2xl text-bold"</span><span class="nt">&gt;</span>
  Halo Semua ...
  <span class="nt">&lt;span</span> <span class="na">data-controller=</span><span class="s">"hello"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div><p>Kalau berhasil semestinya tag <code class="highlighter-rouge">span</code> nya terisi dengan kata-kata dari controller <code class="highlighter-rouge">hello</code> dari Stimulus.</p><p>Lalu untuk Turbo nya? Gampang buat saja salah satu navigasi antar page, Turbo bisanya punya preload (seperti ada animasi loading) sebelum pindah halaman. Kalau gak ada preload-nya berarti Turbonya belum jalan nih wkwkw</p><p>Sip, semoga tulisan ini bermanfaat.</p><span class="meta"><time datetime="2023-10-27T22:16:00+07:00">October 27, 2023</time> &middot; <a href="/tag/vite">vite</a>, <a href="/tag/tailwind">tailwind</a>, <a href="/tag/stimulus">stimulus</a>, <a href="/tag/turbo">turbo</a></span> <!--<span class="meta"><time datetime="2023-10-27T22:16:00+07:00">October 27, 2023</time> &middot; <a class="post" href="/tag/vite">vite</a>, <a class="post" href="/tag/tailwind">tailwind</a>, <a class="post" href="/tag/stimulus">stimulus</a>, <a class="post" href="/tag/turbo">turbo</a></span> --></section></main></body></html>
